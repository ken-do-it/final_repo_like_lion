<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì—¬í–‰ ì¼ì • í…ŒìŠ¤íŠ¸</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .content {
            padding: 30px;
        }

        .section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .section h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 600;
            font-size: 1.1em;
        }

        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: all 0.3s;
        }

        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        button:active {
            transform: translateY(0);
        }

        .result {
            background: white;
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            max-height: 400px;
            overflow-y: auto;
        }

        .result pre {
            white-space: pre-wrap;
            word-wrap: break-word;
            color: #333;
            line-height: 1.6;
        }

        .plan-list {
            display: grid;
            gap: 15px;
        }

        .plan-item {
            background: white;
            border-radius: 10px;
            padding: 20px;
            border-left: 5px solid #667eea;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s;
        }

        .plan-item:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.15);
        }

        .plan-item h3 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .plan-item p {
            color: #666;
            margin: 5px 0;
        }

        .detail-item {
            background: #f0f4ff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 10px;
            border-left: 4px solid #764ba2;
        }

        .detail-item h4 {
            color: #764ba2;
            margin-bottom: 8px;
        }

        .success {
            background: #d4edda;
            border: 2px solid #28a745;
            color: #155724;
        }

        .error {
            background: #f8d7da;
            border: 2px solid #dc3545;
            color: #721c24;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .two-col {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸŒ ì—¬í–‰ ì¼ì • í…ŒìŠ¤íŠ¸</h1>
            <p>FastAPI + Django ì¥ì†Œ ê²€ìƒ‰ ë° ì¼ì • ì¶”ê°€ í…ŒìŠ¤íŠ¸</p>
        </div>

        <div class="content">
            <!-- 1. ì¼ì • ìƒì„± -->
            <div class="section">
                <h2>ğŸ“ 1. ì—¬í–‰ ì¼ì • ìƒì„±</h2>
                <div class="form-group">
                    <label>ì œëª©</label>
                    <input type="text" id="planTitle" placeholder="ì˜ˆ: ì„œìš¸ ì—¬í–‰">
                </div>
                <div class="form-group">
                    <label>ì„¤ëª…</label>
                    <textarea id="planDescription" rows="3" placeholder="ì˜ˆ: 2ë°• 3ì¼ ì„œìš¸ ì—¬í–‰"></textarea>
                </div>
                <div class="two-col">
                    <div class="form-group">
                        <label>ì‹œì‘ì¼</label>
                        <input type="date" id="planStartDate">
                    </div>
                    <div class="form-group">
                        <label>ì¢…ë£Œì¼</label>
                        <input type="date" id="planEndDate">
                    </div>
                </div>
                <div class="form-group">
                    <label>ì¼ì • ìœ í˜•</label>
                    <select id="planType">
                        <option value="personal">ê°œì¸ ì¼ì •</option>
                        <option value="ai_recommended">AI ì¶”ì²œ</option>
                    </select>
                </div>
                <button onclick="createPlan()">ì¼ì • ìƒì„±</button>
                <div id="createResult" class="result" style="display: none;"></div>
            </div>

            <!-- 2. ì¼ì • ëª©ë¡ ì¡°íšŒ -->
            <div class="section">
                <h2>ğŸ“‹ 2. ë‚´ ì¼ì • ëª©ë¡</h2>
                <button onclick="loadPlans()">ì¼ì • ëª©ë¡ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                <div id="planList" class="result" style="display: none;"></div>
            </div>

            <!-- 3. ì¥ì†Œ ì¶”ê°€ -->
            <div class="section">
                <h2>ğŸ“ 3. ì¼ì •ì— ì¥ì†Œ ì¶”ê°€</h2>
                <div class="form-group">
                    <label>ì¼ì • ID</label>
                    <input type="number" id="detailPlanId" placeholder="ìœ„ ì¼ì • ëª©ë¡ì—ì„œ ID í™•ì¸">
                </div>
                <div class="form-group">
                    <label>ì¥ì†Œ ì´ë¦„ (ê²€ìƒ‰ì–´)</label>
                    <input type="text" id="placeName" placeholder="ì˜ˆ: ê²½ë³µê¶, N Seoul Tower, ëª…ë™">
                </div>
                <div class="form-group">
                    <label>ë°©ë¬¸ ë‚ ì§œ</label>
                    <input type="date" id="visitDate">
                </div>
                <div class="form-group">
                    <label>ë©”ëª¨</label>
                    <textarea id="placeDescription" rows="2" placeholder="ì˜ˆ: ì˜¤ì „ 10ì‹œ ë°©ë¬¸ ì˜ˆì •"></textarea>
                </div>
                <button onclick="addPlace()">ì¥ì†Œ ì¶”ê°€</button>
                <div id="addPlaceResult" class="result" style="display: none;"></div>
            </div>

            <!-- 4. ì¼ì • ìƒì„¸ ì¡°íšŒ -->
            <div class="section">
                <h2>ğŸ” 4. ì¼ì • ìƒì„¸ ì¡°íšŒ (ì¥ì†Œ í¬í•¨)</h2>
                <div class="form-group">
                    <label>ì¼ì • ID</label>
                    <input type="number" id="viewPlanId" placeholder="ì¡°íšŒí•  ì¼ì • ID">
                </div>
                <button onclick="viewPlanDetail()">ìƒì„¸ ë³´ê¸°</button>
                <div id="planDetailResult" class="result" style="display: none;"></div>
            </div>

            <!-- 5. ì¥ì†Œ ìˆ˜ì • -->
            <div class="section">
                <h2>âœï¸ 5. ì¥ì†Œ ìˆ˜ì •</h2>
                <div class="form-group">
                    <label>ì¥ì†Œ ID (Detail ID)</label>
                    <input type="number" id="editDetailId" placeholder="ìˆ˜ì •í•  ì¥ì†Œ ID (ìƒì„¸ë³´ê¸°ì—ì„œ í™•ì¸)">
                </div>
                <div class="form-group">
                    <label>ìƒˆ ì¥ì†Œ ì´ë¦„ (ê²€ìƒ‰ì–´)</label>
                    <input type="text" id="editPlaceName" placeholder="ìƒˆë¡œìš´ ì¥ì†Œëª… ì…ë ¥ (ì„ íƒì‚¬í•­)">
                    <small style="color: #666;">â€» ë¹„ì›Œë‘ë©´ ì¥ì†ŒëŠ” ë³€ê²½í•˜ì§€ ì•ŠìŒ</small>
                </div>
                <div class="form-group">
                    <label>ë°©ë¬¸ ë‚ ì§œ</label>
                    <input type="date" id="editVisitDate">
                </div>
                <div class="form-group">
                    <label>ë©”ëª¨</label>
                    <textarea id="editDescription" rows="2" placeholder="ìˆ˜ì •í•  ë©”ëª¨"></textarea>
                </div>
                <div class="form-group">
                    <label>ìˆœì„œ</label>
                    <input type="number" id="editOrderIndex" placeholder="ìˆœì„œ (1, 2, 3...)">
                </div>
                <button onclick="editPlace()">ì¥ì†Œ ìˆ˜ì •</button>
                <div id="editPlaceResult" class="result" style="display: none;"></div>
            </div>

            <!-- 6. ì¥ì†Œ ì‚­ì œ -->
            <div class="section">
                <h2>ğŸ—‘ï¸ 6. ì¥ì†Œ ì‚­ì œ</h2>
                <div class="form-group">
                    <label>ì¥ì†Œ ID (Detail ID)</label>
                    <input type="number" id="deleteDetailId" placeholder="ì‚­ì œí•  ì¥ì†Œ ID">
                </div>
                <button onclick="deletePlace()" style="background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">ì¥ì†Œ ì‚­ì œ</button>
                <div id="deletePlaceResult" class="result" style="display: none;"></div>
            </div>
        </div>
    </div>

    <script>
        const API_BASE = 'http://localhost:8000/api';

        // 1. ì¼ì • ìƒì„±
        async function createPlan() {
            const title = document.getElementById('planTitle').value;
            const description = document.getElementById('planDescription').value;
            const startDate = document.getElementById('planStartDate').value;
            const endDate = document.getElementById('planEndDate').value;
            const planType = document.getElementById('planType').value;

            if (!title || !startDate || !endDate) {
                alert('ì œëª©, ì‹œì‘ì¼, ì¢…ë£Œì¼ì€ í•„ìˆ˜ì…ë‹ˆë‹¤!');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/plans/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        title,
                        description,
                        plan_type: planType,
                        start_date: startDate,
                        end_date: endDate,
                        is_public: true
                    })
                });

                const data = await response.json();
                const resultDiv = document.getElementById('createResult');
                resultDiv.style.display = 'block';

                if (response.ok) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `
                        <h3>âœ… ì¼ì • ìƒì„± ì„±ê³µ!</h3>
                        <p><strong>ID:</strong> ${data.id}</p>
                        <p><strong>ì œëª©:</strong> ${data.title}</p>
                        <p><strong>ê¸°ê°„:</strong> ${data.start_date} ~ ${data.end_date}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>âŒ ì˜¤ë¥˜</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ì¼ì • ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // 2. ì¼ì • ëª©ë¡ ì¡°íšŒ
        async function loadPlans() {
            try {
                const response = await fetch(`${API_BASE}/plans/`);
                const data = await response.json();
                const listDiv = document.getElementById('planList');
                listDiv.style.display = 'block';

                if (data.length === 0) {
                    listDiv.innerHTML = '<p>ìƒì„±ëœ ì¼ì •ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                    return;
                }

                listDiv.innerHTML = '<div class="plan-list">' +
                    data.map(plan => `
                        <div class="plan-item" onclick="document.getElementById('detailPlanId').value=${plan.id}; document.getElementById('viewPlanId').value=${plan.id}">
                            <h3>${plan.title} (ID: ${plan.id})</h3>
                            <p>ğŸ“… ${plan.start_date} ~ ${plan.end_date}</p>
                            <p>ğŸ“ ${plan.description || 'ì„¤ëª… ì—†ìŒ'}</p>
                            <p>ğŸ“ ì¥ì†Œ ${plan.detail_count || 0}ê°œ</p>
                        </div>
                    `).join('') +
                    '</div>';
            } catch (error) {
                console.error('Error:', error);
                alert('ì¼ì • ëª©ë¡ ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // 3. ì¥ì†Œ ì¶”ê°€
        async function addPlace() {
            const planId = document.getElementById('detailPlanId').value;
            const placeName = document.getElementById('placeName').value;
            const visitDate = document.getElementById('visitDate').value;
            const description = document.getElementById('placeDescription').value;

            if (!planId || !placeName || !visitDate) {
                alert('ì¼ì • ID, ì¥ì†Œ ì´ë¦„, ë°©ë¬¸ ë‚ ì§œëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤!');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/plans/${planId}/details/`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        place_name: placeName,
                        date: visitDate,
                        description: description,
                        order_index: 1
                    })
                });

                const data = await response.json();
                const resultDiv = document.getElementById('addPlaceResult');
                resultDiv.style.display = 'block';

                if (response.ok) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `
                        <h3>âœ… ì¥ì†Œ ì¶”ê°€ ì„±ê³µ!</h3>
                        <p><strong>ì¥ì†Œ:</strong> ${data.place_name}</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${data.place_address}</p>
                        <p><strong>ë‚ ì§œ:</strong> ${data.date}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>âŒ ì˜¤ë¥˜</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ì¥ì†Œ ì¶”ê°€ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // 4. ì¼ì • ìƒì„¸ ì¡°íšŒ
        async function viewPlanDetail() {
            const planId = document.getElementById('viewPlanId').value;

            if (!planId) {
                alert('ì¼ì • IDë¥¼ ì…ë ¥í•˜ì„¸ìš”!');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/plans/${planId}/`);
                const data = await response.json();
                const resultDiv = document.getElementById('planDetailResult');
                resultDiv.style.display = 'block';

                if (response.ok) {
                    resultDiv.className = 'result success';
                    let detailsHtml = '';
                    if (data.details && data.details.length > 0) {
                        detailsHtml = '<h3>ğŸ“ ë°©ë¬¸ ì¥ì†Œ:</h3>' +
                            data.details.map(detail => `
                                <div class="detail-item">
                                    <div style="display: flex; justify-content: space-between; align-items: start;">
                                        <div style="flex: 1;">
                                            <h4>${detail.place_name} <span style="color: #999; font-size: 0.9em;">(ID: ${detail.id})</span></h4>
                                            <p>ğŸ“ ${detail.place_address}</p>
                                            <p>ğŸ“… ${detail.date}</p>
                                            <p>ğŸ“ ${detail.description || 'ë©”ëª¨ ì—†ìŒ'}</p>
                                            <p>ğŸ”¢ ìˆœì„œ: ${detail.order_index}</p>
                                        </div>
                                        <div style="display: flex; gap: 10px;">
                                            <button onclick="fillEditForm(${detail.id}, '${detail.place_name}', '${detail.date}', '${(detail.description || '').replace(/'/g, "\\'")}', ${detail.order_index})"
                                                    style="padding: 8px 15px; font-size: 0.9em;">âœï¸ ìˆ˜ì •</button>
                                            <button onclick="quickDelete(${detail.id})"
                                                    style="padding: 8px 15px; font-size: 0.9em; background: linear-gradient(135deg, #dc3545 0%, #c82333 100%);">ğŸ—‘ï¸ ì‚­ì œ</button>
                                        </div>
                                    </div>
                                </div>
                            `).join('');
                    } else {
                        detailsHtml = '<p>ì•„ì§ ì¶”ê°€ëœ ì¥ì†Œê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                    }

                    resultDiv.innerHTML = `
                        <h3>${data.title}</h3>
                        <p>ğŸ“… ${data.start_date} ~ ${data.end_date}</p>
                        <p>ğŸ“ ${data.description || 'ì„¤ëª… ì—†ìŒ'}</p>
                        ${detailsHtml}
                        <details>
                            <summary style="cursor: pointer; margin-top: 15px; color: #667eea; font-weight: 600;">JSON ì›ë³¸ ë³´ê¸°</summary>
                            <pre>${JSON.stringify(data, null, 2)}</pre>
                        </details>
                    `;
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>âŒ ì˜¤ë¥˜</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ì¼ì • ì¡°íšŒ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // 5. ì¥ì†Œ ìˆ˜ì •
        async function editPlace() {
            const detailId = document.getElementById('editDetailId').value;
            const placeName = document.getElementById('editPlaceName').value;
            const visitDate = document.getElementById('editVisitDate').value;
            const description = document.getElementById('editDescription').value;
            const orderIndex = document.getElementById('editOrderIndex').value;

            if (!detailId) {
                alert('ì¥ì†Œ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤!');
                return;
            }

            // PATCH ìš”ì²­ìš© body êµ¬ì„± (ê°’ì´ ìˆëŠ” ê²ƒë§Œ í¬í•¨)
            const body = {};
            if (placeName) body.place_name = placeName;
            if (visitDate) body.date = visitDate;
            if (description) body.description = description;
            if (orderIndex) body.order_index = parseInt(orderIndex);

            if (Object.keys(body).length === 0) {
                alert('ìˆ˜ì •í•  ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”!');
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/plans/details/${detailId}/`, {
                    method: 'PATCH',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(body)
                });

                const data = await response.json();
                const resultDiv = document.getElementById('editPlaceResult');
                resultDiv.style.display = 'block';

                if (response.ok) {
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `
                        <h3>âœ… ì¥ì†Œ ìˆ˜ì • ì„±ê³µ!</h3>
                        <p><strong>ì¥ì†Œ:</strong> ${data.place_name}</p>
                        <p><strong>ì£¼ì†Œ:</strong> ${data.place_address}</p>
                        <p><strong>ë‚ ì§œ:</strong> ${data.date}</p>
                        <p><strong>ë©”ëª¨:</strong> ${data.description || 'ì—†ìŒ'}</p>
                        <pre>${JSON.stringify(data, null, 2)}</pre>
                    `;
                    // í¼ ì´ˆê¸°í™”
                    document.getElementById('editDetailId').value = '';
                    document.getElementById('editPlaceName').value = '';
                    document.getElementById('editDescription').value = '';
                    document.getElementById('editOrderIndex').value = '';
                } else {
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>âŒ ì˜¤ë¥˜</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ì¥ì†Œ ìˆ˜ì • ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // 6. ì¥ì†Œ ì‚­ì œ
        async function deletePlace() {
            const detailId = document.getElementById('deleteDetailId').value;

            if (!detailId) {
                alert('ì¥ì†Œ IDë¥¼ ì…ë ¥í•˜ì„¸ìš”!');
                return;
            }

            if (!confirm('ì •ë§ë¡œ ì´ ì¥ì†Œë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
                return;
            }

            try {
                const response = await fetch(`${API_BASE}/plans/details/${detailId}/`, {
                    method: 'DELETE'
                });

                const resultDiv = document.getElementById('deletePlaceResult');
                resultDiv.style.display = 'block';

                if (response.ok) {
                    const data = await response.json();
                    resultDiv.className = 'result success';
                    resultDiv.innerHTML = `<h3>âœ… ì¥ì†Œê°€ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤!</h3><p>${data.message || 'ì‚­ì œ ì™„ë£Œ'}</p>`;
                    document.getElementById('deleteDetailId').value = '';
                } else {
                    const data = await response.json();
                    resultDiv.className = 'result error';
                    resultDiv.innerHTML = `<h3>âŒ ì˜¤ë¥˜</h3><pre>${JSON.stringify(data, null, 2)}</pre>`;
                }
            } catch (error) {
                console.error('Error:', error);
                alert('ì¥ì†Œ ì‚­ì œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }

        // ìˆ˜ì • í¼ ìë™ ì±„ìš°ê¸° (ìƒì„¸ë³´ê¸°ì—ì„œ ìˆ˜ì • ë²„íŠ¼ í´ë¦­ ì‹œ)
        function fillEditForm(detailId, placeName, date, description, orderIndex) {
            document.getElementById('editDetailId').value = detailId;
            document.getElementById('editVisitDate').value = date;
            document.getElementById('editDescription').value = description;
            document.getElementById('editOrderIndex').value = orderIndex;
            // ìˆ˜ì • ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            document.querySelector('.section:nth-of-type(5)').scrollIntoView({ behavior: 'smooth' });
        }

        // ë¹ ë¥¸ ì‚­ì œ (ìƒì„¸ë³´ê¸°ì—ì„œ ì‚­ì œ ë²„íŠ¼ í´ë¦­ ì‹œ)
        function quickDelete(detailId) {
            document.getElementById('deleteDetailId').value = detailId;
            deletePlace();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜¤ëŠ˜ ë‚ ì§œ ì„¤ì •
        window.onload = function() {
            const today = new Date().toISOString().split('T')[0];
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 2);
            const tomorrowStr = tomorrow.toISOString().split('T')[0];

            document.getElementById('planStartDate').value = today;
            document.getElementById('planEndDate').value = tomorrowStr;
            document.getElementById('visitDate').value = today;
        };
    </script>
</body>
</html>
